{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/brayhanjaramillo/DocumentosBrayhan/React Native/repositorio/petGeo5/app/components/account/LoginForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Icon, Button, Input } from 'react-native-elements';\nimport { isEmpty } from 'lodash';\nimport { useNavigation } from '@react-navigation/native';\nimport { validateEmail } from \"../../utils/validations\";\nimport * as firebase from 'firebase';\nimport Loading from \"../Loading\";\n\nfunction defaultFormValue() {\n  return {\n    email: '',\n    password: ''\n  };\n}\n\nfunction LoginForm(props) {\n  var navigation = useNavigation();\n  var toastRef = props.toastRef;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      showPassword = _useState2[0],\n      setshowPassword = _useState2[1];\n\n  var _useState3 = useState(defaultFormValue),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formData = _useState4[0],\n      setformData = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setloading = _useState6[1];\n\n  var email = formData.email,\n      password = formData.password;\n\n  var onSubmit = function onSubmit() {\n    if (isEmpty(email) || isEmpty(password)) {\n      toastRef.current.show('Los campos deben de estar diligenciados');\n    } else {\n      if (!validateEmail(email)) {\n        toastRef.current.show('El correo no es valido');\n      } else {\n        setloading(true);\n        firebase.auth().signInWithEmailAndPassword(email, password).then(function (response) {\n          console.log('iniciando sesion');\n          setloading(false);\n          navigation.navigate('Profile');\n        }).catch(function (error) {\n          setloading(false);\n          toastRef.current.show('Email o contraseña incorrecta');\n        });\n      }\n    }\n  };\n\n  var _onChange = function onChange(even, type) {\n    setformData(_objectSpread({}, formData, _defineProperty({}, type, even.nativeEvent.text)));\n  };\n\n  return React.createElement(View, {\n    style: styles.formContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 3\n    }\n  }, React.createElement(Input, {\n    placeholder: \"Correo Electr\\xF3nico\",\n    containerStyle: styles.inputForm,\n    onChange: function onChange(even) {\n      return _onChange(even, 'email');\n    },\n    rightIcon: React.createElement(Icon, {\n      type: \"material-community\",\n      name: \"at\",\n      iconStyle: styles.iconRight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 16\n      }\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }\n  }), React.createElement(Input, {\n    placeholder: \"Contrase\\xF1a\",\n    containerStyle: styles.inputForm,\n    password: true,\n    onChange: function onChange(even) {\n      return _onChange(even, 'password');\n    },\n    secureTextEntry: showPassword ? true : false,\n    rightIcon: React.createElement(Icon, {\n      type: \"material-community\",\n      name: showPassword ? 'eye-off-outline' : 'eye-outline',\n      iconStyle: styles.iconRight,\n      onPress: function onPress() {\n        setshowPassword(!showPassword);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 6\n      }\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }\n  }), React.createElement(Button, {\n    title: \"Iniciar Sesi\\xF3n\",\n    containerStyle: styles.btnContainerLogin,\n    buttonStyle: styles.btnLogin,\n    onPress: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 4\n    }\n  }), React.createElement(Loading, {\n    isVisible: loading,\n    text: \"Iniciando sesion\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 4\n    }\n  }));\n}\n\nvar styles = StyleSheet.create({\n  formContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 30\n  },\n  inputForm: {\n    width: '100%',\n    marginTop: 20\n  },\n  btnContainerLogin: {\n    marginTop: 20,\n    width: '95%'\n  },\n  btnLogin: {\n    backgroundColor: '#1A89E7'\n  },\n  iconRight: {\n    color: 'gray'\n  }\n});\nexport default LoginForm;","map":{"version":3,"sources":["/Users/brayhanjaramillo/DocumentosBrayhan/React Native/repositorio/petGeo5/app/components/account/LoginForm.js"],"names":["React","useState","Icon","Button","Input","isEmpty","useNavigation","validateEmail","firebase","Loading","defaultFormValue","email","password","LoginForm","props","navigation","toastRef","showPassword","setshowPassword","formData","setformData","loading","setloading","onSubmit","current","show","auth","signInWithEmailAndPassword","then","response","console","log","navigate","catch","error","onChange","even","type","nativeEvent","text","styles","formContainer","inputForm","iconRight","btnContainerLogin","btnLogin","StyleSheet","create","flex","alignItems","justifyContent","marginTop","width","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport { Icon, Button, Input } from 'react-native-elements';\nimport { isEmpty } from 'lodash';\nimport { useNavigation } from '@react-navigation/native';\n\nimport { validateEmail } from '../../utils/validations';\nimport * as firebase from 'firebase';\n\nimport Loading from '../Loading';\n\nfunction defaultFormValue() {\n\treturn {\n\t\temail: '',\n\t\tpassword: ''\n\t};\n}\n\nfunction LoginForm(props) {\n\tconst navigation = useNavigation();\n\tconst { toastRef } = props;\n\tconst [ showPassword, setshowPassword ] = useState(true);\n\tconst [ formData, setformData ] = useState(defaultFormValue);\n\tconst [ loading, setloading ] = useState(false);\n\n\tvar { email, password } = formData;\n\n\tconst onSubmit = () => {\n\t\tif (isEmpty(email) || isEmpty(password)) {\n\t\t\ttoastRef.current.show('Los campos deben de estar diligenciados');\n\t\t} else {\n\t\t\tif (!validateEmail(email)) {\n\t\t\t\ttoastRef.current.show('El correo no es valido');\n\t\t\t} else {\n\t\t\t\tsetloading(true);\n\t\t\t\tfirebase\n\t\t\t\t\t.auth()\n\t\t\t\t\t.signInWithEmailAndPassword(email, password)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log('iniciando sesion');\n\t\t\t\t\t\tsetloading(false);\n\t\t\t\t\t\tnavigation.navigate('Profile');\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetloading(false);\n\t\t\t\t\t\ttoastRef.current.show('Email o contraseña incorrecta');\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tconst onChange = (even, type) => {\n\t\tsetformData({\n\t\t\t...formData,\n\t\t\t[type]: even.nativeEvent.text\n\t\t});\n\t};\n\n\treturn (\n\t\t<View style={styles.formContainer}>\n\t\t\t<Input\n\t\t\t\tplaceholder=\"Correo Electrónico\"\n\t\t\t\tcontainerStyle={styles.inputForm}\n\t\t\t\tonChange={(even) => onChange(even, 'email')}\n\t\t\t\trightIcon={<Icon type=\"material-community\" name=\"at\" iconStyle={styles.iconRight} />}\n\t\t\t/>\n\n\t\t\t<Input\n\t\t\t\tplaceholder=\"Contraseña\"\n\t\t\t\tcontainerStyle={styles.inputForm}\n\t\t\t\tpassword={true}\n\t\t\t\tonChange={(even) => onChange(even, 'password')}\n\t\t\t\tsecureTextEntry={showPassword ? true : false}\n\t\t\t\trightIcon={\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ttype=\"material-community\"\n\t\t\t\t\t\tname={showPassword ? 'eye-off-outline' : 'eye-outline'}\n\t\t\t\t\t\ticonStyle={styles.iconRight}\n\t\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\t\tsetshowPassword(!showPassword);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<Button\n\t\t\t\ttitle=\"Iniciar Sesión\"\n\t\t\t\tcontainerStyle={styles.btnContainerLogin}\n\t\t\t\tbuttonStyle={styles.btnLogin}\n\t\t\t\tonPress={onSubmit}\n\t\t\t/>\n\t\t\t<Loading isVisible={loading} text=\"Iniciando sesion\" />\n\t\t</View>\n\t);\n}\n\nconst styles = StyleSheet.create({\n\tformContainer: {\n\t\tflex: 1,\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tmarginTop: 30\n\t},\n\tinputForm: {\n\t\twidth: '100%',\n\t\tmarginTop: 20\n\t},\n\tbtnContainerLogin: {\n\t\tmarginTop: 20,\n\t\twidth: '95%'\n\t},\n\tbtnLogin: {\n\t\tbackgroundColor: '#1A89E7'\n\t},\n\ticonRight: {\n\t\tcolor: 'gray'\n\t}\n});\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}