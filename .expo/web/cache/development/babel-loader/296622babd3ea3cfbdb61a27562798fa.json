{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/brayhanjaramillo/DocumentosBrayhan/React Native/repositorio/petGeo5/app/components/comedog/CreateComedogForm.js\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { Icon, Avatar, Image, Input, Button } from \"react-native-elements\";\nimport { size } from \"lodash\";\nimport firebase from \"firebase/app\";\nimport { uploadImageStorage } from \"../../utils/UploadImageStorage\";\nimport { saveCollection } from \"../../utils/SaveRecord\";\nimport { styleForm } from \"../../src/css/AddForm\";\nimport { styleUploadImage } from \"../../src/css/UploadImage\";\nimport { styleImageMain } from \"../../src/css/ImageMain\";\nimport AddForm from \"../formMain/AddForm\";\nimport UploadImage from \"../formMain/UploadImage\";\nimport ImageMain from \"../formMain/ImageMain\";\nimport Map from \"../formMain/Map\";\nvar widhtScreen = Dimensions.get(\"window\").width;\n\nfunction CreateComedogForm(props) {\n  var toastRef = props.toastRef,\n      setIsLoading = props.setIsLoading,\n      navigation = props.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setloading = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      title = _useState4[0],\n      setTitle = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      address = _useState6[0],\n      setAddress = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      description = _useState8[0],\n      setDescription = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      imageSelected = _useState10[0],\n      setImageSelected = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isVisibleMap = _useState12[0],\n      setIsVisibleMap = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      locationComeDog = _useState14[0],\n      setLocationComeDog = _useState14[1];\n\n  var addComedog = function addComedog() {\n    setIsLoading(false);\n\n    if (!title || !address || !description) {\n      toastRef.current.show(\"Todos los campos del formulario son obligatorios\");\n    } else if (size(imageSelected) === 0) {\n      toastRef.current.show(\"El comedog debe de tener por lo menos una imagen\");\n    } else if (!locationComeDog) {\n      toastRef.current.show(\"Debes localizar el comedog en el mapa\");\n    } else {\n      setIsLoading(true);\n      uploadImageStorage(imageSelected, \"Comedogs\").then(function (response) {\n        saveCollection({\n          name: title,\n          address: address,\n          description: description,\n          location: locationComeDog,\n          image: response,\n          createAt: new Date(),\n          createBy: firebase.auth().currentUser.uid\n        }, \"comedogs\", navigation, \"ComedogStack\", toastRef, setIsLoading, \"Error al subir el comedog\");\n      });\n    }\n  };\n\n  return React.createElement(ScrollView, {\n    style: styleForm.scrollView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, React.createElement(ImageMain, {\n    styleImageMain: styleImageMain,\n    toastRef: toastRef,\n    widhtScreen: widhtScreen,\n    imageMain: imageSelected[0],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), React.createElement(AddForm, {\n    title: \"Nombre Comedog\",\n    address: \"Direcci\\xF3n\",\n    addressVisible: true,\n    description: \"Describa en breves palabras donde se encuentra el actual comedog...\",\n    styleForm: styleForm,\n    setTitle: setTitle,\n    setAddress: setAddress,\n    setDescription: setDescription,\n    setIsVisibleMap: setIsVisibleMap,\n    locationForm: locationComeDog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), React.createElement(UploadImage, {\n    styleUploadImage: styleUploadImage,\n    toastRef: toastRef,\n    imageSelected: imageSelected,\n    setImageSelected: setImageSelected,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }), React.createElement(Button, {\n    buttonStyle: styleForm.btnCreate,\n    title: \"Crear Comedog\",\n    onPress: addComedog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }), React.createElement(Map, {\n    isVisibleMap: isVisibleMap,\n    setIsVisibleMap: setIsVisibleMap,\n    toastRef: toastRef,\n    setLocationForms: setLocationComeDog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default CreateComedogForm;","map":{"version":3,"sources":["/Users/brayhanjaramillo/DocumentosBrayhan/React Native/repositorio/petGeo5/app/components/comedog/CreateComedogForm.js"],"names":["React","useState","Icon","Avatar","Image","Input","Button","size","firebase","uploadImageStorage","saveCollection","styleForm","styleUploadImage","styleImageMain","AddForm","UploadImage","ImageMain","Map","widhtScreen","Dimensions","get","width","CreateComedogForm","props","toastRef","setIsLoading","navigation","loading","setloading","title","setTitle","address","setAddress","description","setDescription","imageSelected","setImageSelected","isVisibleMap","setIsVisibleMap","locationComeDog","setLocationComeDog","addComedog","current","show","then","response","name","location","image","createAt","Date","createBy","auth","currentUser","uid","scrollView","btnCreate"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  View,\n  Text,\n  ScrollView,\n  Alert,\n  TextInput,\n  Dimensions,\n} from \"react-native\";\nimport { Icon, Avatar, Image, Input, Button } from \"react-native-elements\";\nimport { size } from \"lodash\";\nimport firebase from \"firebase/app\";\nimport { uploadImageStorage } from \"../../utils/UploadImageStorage\";\nimport { saveCollection } from \"../../utils/SaveRecord\";\nimport { styleForm } from \"../../src/css/AddForm\";\nimport { styleUploadImage } from \"../../src/css/UploadImage\";\nimport { styleImageMain } from \"../../src/css/ImageMain\";\nimport AddForm from \"../formMain/AddForm\";\nimport UploadImage from \"../formMain/UploadImage\";\nimport ImageMain from \"../formMain/ImageMain\";\n\nimport Map from \"../formMain/Map\";\n\n//devuelve el ancho de la screen\nconst widhtScreen = Dimensions.get(\"window\").width;\nfunction CreateComedogForm(props) {\n  const { toastRef, setIsLoading, navigation } = props;\n  const [loading, setloading] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [imageSelected, setImageSelected] = useState([]);\n  const [isVisibleMap, setIsVisibleMap] = useState(false);\n  const [locationComeDog, setLocationComeDog] = useState(null);\n\n  const addComedog = () => {\n    setIsLoading(false);\n    if (!title || !address || !description) {\n      toastRef.current.show(\"Todos los campos del formulario son obligatorios\");\n    } else if (size(imageSelected) === 0) {\n      toastRef.current.show(\"El comedog debe de tener por lo menos una imagen\");\n    } else if (!locationComeDog) {\n      toastRef.current.show(\"Debes localizar el comedog en el mapa\");\n    } else {\n      setIsLoading(true);\n      uploadImageStorage(imageSelected, \"Comedogs\").then((response) => {\n        saveCollection(\n          {\n            name: title,\n            address: address,\n            description: description,\n            location: locationComeDog,\n            image: response,\n            createAt: new Date(),\n            createBy: firebase.auth().currentUser.uid,\n          },\n          \"comedogs\",\n          navigation,\n          \"ComedogStack\",\n          toastRef,\n          setIsLoading,\n          \"Error al subir el comedog\"\n        );\n      });\n    }\n  };\n\n  //const {title, setTitle, address, setAddress, description, setDescription, btnName, addressVisible} = props\n\n  return (\n    <ScrollView style={styleForm.scrollView}>\n      <ImageMain\n        styleImageMain={styleImageMain}\n        toastRef={toastRef}\n        widhtScreen={widhtScreen}\n        imageMain={imageSelected[0]}\n      />\n\n      <AddForm\n        title=\"Nombre Comedog\"\n        address=\"Dirección\"\n        addressVisible={true}\n        description=\"Describa en breves palabras donde se encuentra el actual comedog...\"\n        styleForm={styleForm}\n        setTitle={setTitle}\n        setAddress={setAddress}\n        setDescription={setDescription}\n        setIsVisibleMap={setIsVisibleMap}\n        locationForm={locationComeDog}\n      />\n      <UploadImage\n        styleUploadImage={styleUploadImage}\n        toastRef={toastRef}\n        imageSelected={imageSelected}\n        setImageSelected={setImageSelected}\n      />\n\n      <Button\n        buttonStyle={styleForm.btnCreate}\n        title=\"Crear Comedog\"\n        onPress={addComedog}\n      />\n\n      <Map\n        isVisibleMap={isVisibleMap}\n        setIsVisibleMap={setIsVisibleMap}\n        toastRef={toastRef}\n        setLocationForms={setLocationComeDog}\n      />\n    </ScrollView>\n  );\n}\n\nexport default CreateComedogForm;\n"]},"metadata":{},"sourceType":"module"}